# Go练习

## 240830 Gin+GORM+GoRedis

### 练习题目 1: 基础版 - 用户注册与登录系统

**目标**:

- 创建一个简单的用户注册与登录系统。
- 使用 Redis 存储用户的登录状态。
- 使用 GORM 操作数据库，保存用户信息。

**步骤**:

1. **设计数据模型**：定义用户表结构（用户名、密码哈希等）。
2. **注册接口**：接收 POST 请求，验证数据完整性后将用户信息保存到数据库。
3. **登录接口**：接收 POST 请求，验证用户名和密码，如果正确则生成一个随机的 session ID 并存储到 Redis 中。
4. **检查登录状态接口**：通过 session ID 查询 Redis，确认用户是否已经登录。

### 练习题目 2: 中级版 - 文章管理系统

**目标**:

- 创建一个文章管理系统，包括文章列表、创建、编辑和删除功能。
- 使用 Redis 缓存热门文章。
- 使用 GORM 进行数据库操作。

**步骤**:

1. **设计数据模型**：定义文章表结构（标题、内容、作者等）。
2. **创建文章接口**：接收 POST 请求，创建新的文章记录。
3. **获取文章列表接口**：返回所有文章的列表。
4. **获取单篇文章接口**：接收 GET 请求并返回指定的文章详情。
5. **更新文章接口**：接收 PUT 请求，更新指定文章的信息。
6. **删除文章接口**：接收 DELETE 请求，删除指定文章。
7. **热门文章接口**：使用 Redis 缓存访问次数最多的前 N 篇文章。

### 练习题目 3: 高级版 - 实时通知系统

**目标**:

- 构建一个基于 WebSocket 的实时通知系统。
- 用户登录后能够接收到服务器发送的消息。
- 使用 Redis 发布/订阅模式实现消息推送。

**步骤**:

1. **设计数据模型**：定义用户表结构，包含用户名和密码等。
2. **用户登录接口**：与基础版类似。
3. **WebSocket 服务**：使用 Gin 的中间件或第三方库如 `gorilla/websocket` 创建 WebSocket 服务。
4. **发布消息接口**：接收 POST 请求，将消息存储到 Redis 的特定频道中。
5. **客户端连接**：用户登录成功后连接 WebSocket，并订阅相应的 Redis 频道。
6. **消息推送**：当有新消息发布时，通过 Redis 的发布/订阅机制推送给订阅该频道的所有客户端。
